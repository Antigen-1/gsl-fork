                         Hacking on GSL

The GSL hacker needs some stuff that the end users don't:

* you must have a recent automake (1.3 or greater) from
ftp://sourceware.cygnus.com/pub/automake/

* you must have the latest autoconf from
ftp://sourceware.cygnus.com/pub/automake/

* you must have a recent libtool (1.3 or greater) from
ftp://ftp.gnu.org/gnu/libtool/

* you must have a recent CVS (at least 1.9) from
ftp://prep.ai.mit.edu/u2/emacs/

Once you have this stuff, you can get the repository and start
working from your own machine.  To do the initial checkout of the
repository try (bash syntax):

# PEOPLE WITH CVS WRITE ACCESS:
export CVS_RSH=ssh
cvs -d sourceware.cygnus.com:/cvs/gsl checkout gsl
[from now on you can just do "cvs update" in the gsl directory]

# ANONYMOUS CVS USERS
cvs -d :pserver:anoncvs@sourceware.cygnus.com:/cvs/gsl login
     (password is ``anoncvs'')
cvs -d :pserver:anoncvs@sourceware.cygnus.com:/cvs/gsl checkout gsl
cd gsl ; ./autogen.sh   (to create auto-generated files)
[from now on you can just do "cvs update" in the gsl directory]

# PEOPLE WHO JUST WANT TO BROWSE THE CVS REPOSITORY
point your web browser to
  http://sourceware.cygnus.com/cgi-bin/cvsweb.cgi/gsl?cvsroot=gsl

# PEOPLE WHO JUST WANT A WORKING VERSION
grab the latest bundled release at
  ftp://sourceware.cygnus.com/pub/gsl/

Let me know (rosalia@lanl.gov) if any of these steps don't work.  I
have tried them out on swift and they seem to work.

---------- submitting patches

The best way to send us a patch is to compile from an anonymous CVS
checkout and to use a nice cvs rdiff option, like 

  cvs rdiff -u

Please use "cvs rdiff", rather than "cvs diff", to make patches if
they span several directories.  The command "cvs diff" does not
preserve directory information and is only useful for diffs of a
single file.

If your patch contains lines longer than 80 characters please check
that your mailer does not break these lines.  If in doubt, send the
patch as a mime attachment or uuencoded file.

Before submitting a patch you may want to search the mailing list
archive for related information. There is a search facility for the
mailing list available at,

  http://sourceware.cygnus.com/ml/gsl-discuss/

---------- some special targets

To check for ansi compliance define a bash alias "makestrict",

    makestrict () { make $* CFLAGS="-ansi -pedantic -Werror -W -Wall -Wtraditional -Wconversion -Wshadow -Wpointer-arith -Wcast-qual -Wcast-align -Wwrite-strings -Wstrict-prototypes -fshort-enums -fno-common -Wmissing-prototypes -Wnested-externs -Dinline= -g -O4" } ;

which lets you type things like

    makestrict check

Note that total compliance to makestrict is not necessary, but it is a
useful way to locate possible problems. If you can compile your code
with

    makestrict
    makestrict CC=c++ 

then that's a good test for portability.

---------- warning about picking up old header files

When compiling the library it's important to use the local copies of
the header files, and not ones that have been installed previously in
/usr/local/include.

There can be confusing errors if the installed and local copies of the
headers get mixed up!  (In particular, some of them only show up when
doing 'make distcheck')

To put the local copies on your include path you need, in your Makefile.am,

INCLUDES = -I$(srcdir)/..

srcdir is always your working dir, and so $(srcdir)/.. is the
top-level dir where gsl_math.h and gsl_complex.h are located.

---------- fixing Makefile.am

The SUBDIRS and SUBLIBS variables have to be updated manually.
